/**
 * TemporizedSlider.js v2.0
 *
 * Copyright 2012, Lukas Alexandre
 * Licensed under MIT
 *
 * @module temporized_slider
*/var TemporizedSlider={};TemporizedSlider.init=function(e){args=e,args.beforeInit!=null&&args.beforeInit();var t={default_time:0,image_id:"slider_image",title_id:"slider_title",text_id:"slider_text",controls:{load:!0,ids:{play:"play_control",pause:"pause_control",previous:"previous_control",next:"next_control"},functions:{play:function(){TemporizedSlider.play()},pause:function(){TemporizedSlider.pause()},previous:function(){TemporizedSlider.previous()},next:function(){TemporizedSlider.next()}}},gallery:{load:!0,id:"slider_gallery"}};for(var n in t)typeof args[n]=="undefined"&&(args[n]=t[n]);for(var n in t.controls)typeof args.controls[n]=="undefined"&&(args.controls[n]=t.controls[n]);typeof args.data!="undefined"&&(args.controls.load&&TemporizedSlider.defineClicks(),args.gallery.load&&TemporizedSlider.loadGallery(),collection=e.data,pointer=-1,end=collection.length-1,timeOut=null,paused=!1,args.afterInit!=null&&args.afterInit(),TemporizedSlider.play(!0))},TemporizedSlider.play=function(e){if(paused||e)args.beforePlay!=null&&args.beforePlay(),paused=!1,pointer=pointer+1>end?0:pointer+1,TemporizedSlider.changeContent(),TemporizedSlider.scheduleNextChange()},TemporizedSlider.pause=function(){paused||(args.beforePause!=null&&args.beforePause(),paused=!0,clearTimeout(timeOut),pointer=pointer-1<0?0:pointer-1)},TemporizedSlider.previous=function(){pointer=pointer-1>=0?pointer-1:end,TemporizedSlider.changeContent(),paused||TemporizedSlider.scheduleNextChange()},TemporizedSlider.next=function(){pointer=pointer+1<=end?pointer+1:0,TemporizedSlider.changeContent(),paused||TemporizedSlider.scheduleNextChange()},TemporizedSlider.changeContent=function(e){e&&(pointer=e);var t=collection[pointer];document.getElementById(args.image_id).src=t.image,document.getElementById(args.title_id).innerHTML=t.title,document.getElementById(args.text_id).innerHTML=t.text,args.gallery.load&&TemporizedSlider.markGaleeryItemAsCurrent(pointer),args.afterChange!=null&&args.afterChange()},TemporizedSlider.scheduleNextChange=function(){clearTimeout(timeOut),timeOut=setTimeout("TemporizedSlider.play(true)",collection[pointer].time*1e3)},TemporizedSlider.defineClicks=function(){var e=document.getElementById(args.controls.ids.play);e&&(e.onclick=function(){args.controls.functions.play()});var t=document.getElementById(args.controls.ids.pause);t&&(t.onclick=function(){args.controls.functions.pause()});var n=document.getElementById(args.controls.ids.previous);n&&(n.onclick=function(){args.controls.functions.previous()});var r=document.getElementById(args.controls.ids.next);r&&(r.onclick=function(){args.controls.functions.next()})},TemporizedSlider.loadGallery=function(){var e=document.getElementById(args.gallery.id),t,n,r,i;for(var s in args.data)t=args.data[s].image,imgTitle=args.data[s].title,e.innerHTML+='<div class="gallery_item"><img class="gallery_img" src="'+t+'" alt="'+imgTitle+'" data-index="'+s+'" onclick="TemporizedSlider.GalleryItemClick(this)"/></div>',galleryImgs=document.getElementsByClassName("gallery_img"),i=galleryImgs[galleryImgs.length-1]},TemporizedSlider.GalleryItemClick=function(e){TemporizedSlider.changeContent(e.dataset.index),paused||TemporizedSlider.scheduleNextChange(),TemporizedSlider.markGaleeryItemAsCurrent(e)},TemporizedSlider.markGaleeryItemAsCurrent=function(e){var t=document.getElementsByClassName("gallery_img");for(var n in t)typeof t[n]=="object"&&(t[n].className=t[n].className.replace(" current",""));typeof e=="number"&&(e=t[e]),e.className+=" current"};