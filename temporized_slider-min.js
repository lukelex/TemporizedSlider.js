/**
 * TemporizedSlider.js v2.1.1
 *
 * Copyright 2012, Lukas Alexandre
 * Licensed under MIT
 *
 * @module temporized_slider
*/var TemporizedSlider;(function(){TemporizedSlider={setupAndStart:function(e){TemporizedSlider.setup(e).$play(TemporizedSlider.$slider)},play:function(){TemporizedSlider.$play(TemporizedSlider.$slider)},pause:function(){TemporizedSlider.$pause(TemporizedSlider.$slider)},next:function(){TemporizedSlider.$next(TemporizedSlider.$slider)},previous:function(){TemporizedSlider.$previous(TemporizedSlider.$slider)},setup:function(e){TemporizedSlider.$validateOptions(e);var t=e;t.beforeSetup&&t.beforeSetup(),t=TemporizedSlider.$mergeArgs(t,TemporizedSlider.defaultArgs),t.controls=TemporizedSlider.$mergeArgs(t.controls,TemporizedSlider.defaultArgs.controls);var n=TemporizedSlider.$slider=new TemporizedSlider.Slider(t);return n.controls&&n.controls.load&&TemporizedSlider.$loadControls(n.controls),n.gallery&&n.gallery.load&&TemporizedSlider.$loadGallery(n.gallery,n.slides),timeOut=null,n.afterSetup&&n.afterSetup(),this},$validateOptions:function(e){if(!e)throw new Error("No options were provided");if(!e.slides)throw new Error("No slides were provided")},$mergeArgs:function(e,t){for(var n in t)e[n]||(e[n]=t[n]);return e},$clearTimer:function(e,t){t||(t=clearTimeout),t(e)},$play:function(e){e.paused&&(e.beforePlay&&e.beforePlay(),e.unpause(),TemporizedSlider.$setNextSlide(e),e.afterPlay&&e.afterPlay(),TemporizedSlider.$scheduleNextChange())},$pause:function(e){e.paused||(e.beforePause&&e.beforePause(),e.pause(),TemporizedSlider.$clearTimer(timeOut))},$previous:function(){pointer=pointer-1>=0?pointer-1:end;var e=collection[pointer];TemporizedSlider.setNextSlide(slider),args.gallery.load&&TemporizedSlider.markGalleryItemAsCurrent(pointer),paused||TemporizedSlider.scheduleNextChange()},$next:function(){pointer=pointer+1<=end?pointer+1:0,TemporizedSlider.setNextSlide(slider),args.gallery.load&&TemporizedSlider.markGalleryItemAsCurrent(pointer),paused||TemporizedSlider.scheduleNextChange()},$setNextSlide:function(e){nextSlide=e.nextSlide(),TemporizedSlider.$getElement(e.imageId).src=nextSlide.image,TemporizedSlider.$getElement(e.titleId).innerHTML=nextSlide.title,TemporizedSlider.$getElement(e.textId).innerHTML=nextSlide.text,e.gallery.load&&TemporizedSlider.$markGalleryItemAsCurrent(e),e.afterChange&&e.afterChange()},$getElement:function(e,t){return t||(t=document),t.getElementById(e)},$scheduleNextChange:function(){clearTimeout(timeOut),timeOut=setTimeout("TemporizedSlider.play(true)",collection[pointer].time*1e3)},$applyEventFor:function(e,t){var n=TemporizedSlider.$getElement(e);if(n)return n.onclick=t,n},$loadControls:function(e){if(!e.load)return!1;TemporizedSlider.$applyEventFor(e.ids.play,e.callbacks.play),TemporizedSlider.$applyEventFor(e.ids.pause,e.callbacks.pause),TemporizedSlider.$applyEventFor(e.ids.previous,e.callbacks.previous),TemporizedSlider.$applyEventFor(e.ids.next,e.callbacks.next)},$loadGallery:function(e,t){var n=TemporizedSlider.$getElement(e.id),r,i,s,o;for(var u in t)r=args.data[u].image,imgTitle=args.data[u].title,n.innerHTML+='<div class="gallery_item"><img class="gallery_img" src="'+r+'" alt="'+imgTitle+'" data-index="'+u+'" onclick="TemporizedSlider.GalleryItemClick(this)"/></div>',galleryImgs=document.getElementsByClassName("gallery_img"),o=galleryImgs[galleryImgs.length-1]},$galleryItemClick:function(e){TemporizedSlider.setNextSlide(slider),scheduleNextChange(),TemporizedSlider.markGalleryItemAsCurrent(e)},$markGalleryItemAsCurrent:function(e){var t=document.getElementsByClassName("gallery_img");for(var n in t)typeof t[n]=="object"&&(t[n].className=t[n].className.replace(" current",""));typeof e=="number"&&(e=t[e]),e.className+=" current"},defaultArgs:{default_time:0,imageId:"slider_image",titleId:"slider_title",textId:"slider_text",controls:{load:!0,ids:{play:"play_control",pause:"pause_control",previous:"previous_control",next:"next_control"},callbacks:{play:function(){TemporizedSlider.play()},pause:function(){TemporizedSlider.pause()},previous:function(){TemporizedSlider.previous()},next:function(){TemporizedSlider.next()}}},gallery:{load:!0,id:"slider_gallery"}}},TemporizedSlider.Slider=function(e){var t=this;t.controls=e.controls,t.defaultTime=e.defaultTime,t.gallery=e.gallery,t.slides=[];for(var n=0;n<e.slides.length;n++)t.slides.push(new TemporizedSlider.Slide(e.slides[n],t.slides[n-1]));t.imageId=e.imageId,t.textId=e.textId,t.titleId=e.titleId,t.afterSetup=e.afterSetup,t.paused=!0,t.currentSlide=function(){return t.current?t.current:{$next:t.slides[0]}},t.nextSlide=function(){return t.current=t.currentSlide().$next},t.pause=function(){t.pause=!0},t.unpause=function(){t.pause=!1}},TemporizedSlider.Slide=function(e,t){var n=this;n.image=e.image,n.text=e.text,n.time=e.time,n.title=e.title,n.$previous=t,n.$previous&&(n.$previous.$next=n)}})();
